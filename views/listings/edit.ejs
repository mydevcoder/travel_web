<% layout('/layouts/boilerplate') -%>
    <div class="row mt-3">
        <div class="col-8 offset-2">
            <h3>Edit listing</h3>
            <form method="post" action="/listing/<%= listing._id %>?_method=PUT" class="needs-validation" enctype="multipart/form-data" novalidate>
                <div class="mb-3">
                    <label for="title" class="form-title">Title</label>
                    <input name="Listing[title]" type="text" value="<%= listing.title %>" class="form-control" required>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">title should be valid</div>
                </div>
                <div class="mb-3">
                    <label for="description" class="form-title">Description</label>
                    <textarea name="Listing[description]" class="form-control" required>
                        <%= listing.description %>
                            </textarea>
                    <div class="valid-feedback">Looks good!</div>
                    <div class="invalid-feedback">please enter a short description</div>
                </div>
                <div class="mb-3">
                    Original Image:<br>
                    <img src="<%= originalImageUrl %>" alt="" style="width: 250px; border-radius: 10px;">
                </div>
                <div class="mb-3">
                    <label for="image" class="form-title">Upload new image</label>
                    <input name="Listing[image]" type="file"  class="form-control"
                        required>
                    <div class="invalid-feedback">image url should be valid</div>
                </div>
                <div class="row">
                    <!-- <div class="col-2"> -->
                    <div class="mb-3 col-md-4">
                        <label for="price" class="form-title">price</label>
                        <input name="Listing[price]" type="number" value="<%= listing.price %>" class="form-control"
                            required>
                        <div class="invalid-feedback">price should be valid</div>
                    </div>
                    <div class="mb-3 col-md-8">
                        <label for="country" class="form-title">country</label>
                        <input name="Listing[country]" type="text" value="<%= listing.country %>" class="form-control"
                            required>
                        <div class="invalid-feedback">country should be valid</div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="location" class="form-title">location</label>
                    <input name="Listing[location]" type="text" value="<%= listing.location %>" class="form-control"
                        required>
                    <div class="invalid-feedback">location should be valid</div>
                </div>
                <button class="btn btn-dark edit-btn mt-3 mb-3">Save</button>

            </form>
        </div>
    </div>
    <script src="/js/script.js"></script>